# アジャイル

アジャイル開発における最大の目的は

**動くソフトウェアを見て、フィードバックするというアプローチをとること**

です。

ここではアジャイル開発を行う上で役に立つ考え方やテクニックについて書きます。


## ユーザストーリー

**ユーザストーリーとは**

ユーザストーリーは手間をかけない要求の表し方である。アジャイルなプロジェクトでは、時間のかかる形式張ったユースケースではなく、ユーザストーリーを用いている。ユースケースのようにすべての詳細を記述してしまうと、顧客が要求を変えたとき、対応しにくくなる。一方ユーザストーリがもたらすのは、**開発者とプロダクト・オーナーの話し合いをスタートするのに必要最小限の情報**だ。ユーザストーリーは**エンドユーザに価値を提供する、機能の最小単位**でもある。

INVESTの原則(後述)を意識する。



**ユーザーストーリーの例**

- ユーザはウェブサイトに業務経歴書を掲載することができる。
- ユーザは求人を検索することができる。
- 企業は新規の求人を掲載することができる。
- ユーザは自分の業務経歴書を誰に見せるか、制限できる。



**良いユーザストーリーを書くコツ**

- どれくらい詳細に書くか、そしていつ書くかを知ること
- **いますぐ**実装に取り掛かるストーリーは、開発者やテスターが何を達成しなければならないのか、はっきりと分かるくらい十分な細かさが必要
- **ずっと後で**実装すればよいストーリーは、同じレベルでの詳細さは必要ない。分析レベルでの手直しが発生する可能性があるため。



**ユーザストーリーのライフサイクル**

![](https://japan.zdnet.com/storage/2016/02/12/b3d9f50a403dbed411929e00c9eda5e4/160208_ul_4_1.jpg)

ユーザストーリーを作成する上で、開発チームが顧客やプロダクトオーナーとやり取りをすると、シンプルなシステムならともかく、複雑な業務システムになると開発チームが仕様の取りまとめで忙殺されてしまう。

そこでアジャイルモデリングチーム(名前を何でも良い)を用意して、顧客とのやりとりはそのチームの役割とする。そして開発チームはソフトウェアの開発に集中するという方法をとる。



## ユーザストーリーマッピング

**ユーザストーリーマッピングとは**

ユーザーストーリーマッピングとは、アジャイル開発で見失いがちなプロダクトの全体像を明確にするためのテクニックです。

アジャイル開発では、プロダクトバックログでユーザーに提供する価値（ユーザーストーリー）に優先順位を付けて管理しますが、ただ優先順位毎に並べただけでは全体像が把握しづらいです。

そこで、ユーザーストーリーマッピングでは、根幹となるユーザーストーリーを付箋紙などに書き出し、時系列に並べ、それぞれの派生機能を下に追加していく事で、プロダクト全体を俯瞰できる様にします。

![](https://cdn-ak.f.st-hatena.com/images/fotolife/r/ryoutaku_jo/20190729/20190729022615.png)

>画像引用元 [ユーザーストーリーマッピングをやってみた ｜ DevelopersIO](https://dev.classmethod.jp/devops/user_story_mapping/)



**なぜユーザストーリーマッピングがあるといいのか**

詳しくは以下を参照してください。

[簡単！楽しい！5分でわかるユーザーストーリーマッピング(User Story Mapping)](https://qiita.com/Koki_jp/items/6aebc73bedd0a932dcb8)



## プランニングポーカー

![](https://cdn-ak.f.st-hatena.com/images/fotolife/t/tokita93/20160803/20160803172329.jpg)

**プランニングポーカーとは**

ロジェクトチーム全員（プロダクトオーナー、QAも含めて)がこのプランニングポーカーを持って参加します。全員がそのストーリーの「ポイント」を見積りカードで提示し、話し合いを経て全員の一致でポイントを決定します。この繰り返しによって見積りを行っています。

詳しくは[プランニングポーカー簡単ガイド](https://slide.meguro.ryuzee.com/slides/25?vertical=1)を参照して下さい。



**事前準備**

1. ユーザーストーリーの作成
2. カードの準備、なければ[ブラウザでできるツールもあり](http://mamimumemoomoo.hateblo.jp/entry/2017/04/16/230913)



**プランニングポーカーの進め方**

1. 基準となるストーリーを決めます。
  (早めに着手するであろう)基本的なストーリーで、全員が内容を想像でき、規模の小さいものを選びます。
  基準のストーリーのポイントを2とします。

2. 次のストーリーを選び、その規模を相対的に考え、カードで一斉に示します。

3. 数が食い違っている場合は、一番大きい数を出した人、一番小さい数を出した人に理由を言ってもらい、その情報を共有します。2に戻ります。

4. 数が一致した場合はその数で確定です。

5. 2~3回行って僅差なら、大きい数字を採用します。

例)

```
プロジェクトマネージャー(PM)「このストーリーは××を○○するというストーリーです。（ホワイトボードに書いたりしながら）このような機能をイメージしてます。△△の詳細については決っていないので検討が必要です」

メンバー「××については仕様の方針が決まってますか？」

～　いろいろストーリーに関する説明

PM「皆さんイメージは出来ました？」

メンバー「はーい」

PM「いっせーのせ！」

～　全員カードを提出

PM「えーっと、"5"が一番多くて、"3"の人、"8"の人が居ますね。"8"を出したAさんはどういう理由で"8"ですかね」

Aさん「これはGUIの修正が必要で、その部分は画面仕様も含めて悩みどころが大きくて規模としては大きくなると思います」

Bさん「あーなるほど。そうすると自分も8かな？」

Cさん「自分は3を出したんですけど、他の開発のときに使ったあの機能を取り込めばいいと思うのでそこまで大きくはならないと思うんですよね」

Dさん「QAの立場からみて、経験上このコンポーネントは結構テストが大変で、不具合が出やすいんですよ。なのである程度大きくみておいた方がいいんじゃないかな～」

Eさん「なるほど～じゃあ自分ももう少し大きくしようかな・・・」

～　いろいろ会話

PM「ではこのストーリーはポイント"8"で良いでしょうか？」

メンバー「OKです！」

～　ポイントを記述する

PM「では次のストーリーは～」
```



**実際にプランニングポーカーをやってみる**

実際の現場にある案件でもいいので、プロジェクトマネージャーを決めて、プランニングポーカーをやってみます。

---

実際に議論していくと「**まだポイントを決定できない**」という結論になることがよくあります。殆どの場合、**ポイントが決定できない要因はストーリーが「INVESTの原則」に添っていない**ことです。

INVESTの原則は以下です。

- **I**ndependent(独立している)
- **N**egotiable(交渉可能である)
- **V**aluable(ユーザ価値を提供する)
- **E**stimable(見積り可能である)
- **S**mall(小さい)
- **T**estable(テスト可能である)



## 参考文献

- [プランニングポーカー簡単ガイド](https://slide.meguro.ryuzee.com/slides/25?vertical=1)
- [見積りのためだけじゃなかった！　プランニングポーカーが開発チームとプロダクトにもたらす8の恩恵](http://appresso.hatenablog.com/entry/2016/08/03/181355)
- [ユーザストーリーの適正サイズ](https://www.infoq.com/jp/news/2008/02/size-user-stories/)
- [要件をどう取り扱うか--アジャイル開発で重視すべきは「ユーザーストーリー」 - (page 3)](https://japan.zdnet.com/article/35077802/3/)
- [ユーザーストーリーマッピング〜再演〜](https://www.slideshare.net/fullvirtue/4-9921796)